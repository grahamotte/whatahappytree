{"version":3,"sources":["store.js","App.js","index.js"],"names":["Line","p","depth","rotation","growth","parent","children","this","store","length","root","angle","Math","PI","midX","minY","px","points","py","sin","cos","maxY","decorate","observable","computed","leaf","pointsInv","color","Store","lines","minX","maxX","resize","window","innerWidth","innerHeight","regenKeyDown","e","key","regen","Array","fill","forEach","x","i","filter","l","nll","nlr","push","midY","action","observer","width","height","text","fontSize","y","fontFamily","fontStyle","map","stroke","strokeWidth","thickness","onresize","event","onkeydown","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.34054f9b.chunk.js","sourcesContent":["import { action, computed, decorate, observable } from \"mobx\";\nimport { random, takeRight } from \"lodash\";\n\nconst rad = (a) => a * (Math.PI / 180);\n\nclass Line {\n  depth = 0;\n  rotation = 0;\n  growth = 0;\n\n  parent = null;\n  children = [];\n\n  constructor(p = {}) {\n    this.store = p.store;\n    this.depth = p.depth || this.depth;\n    this.rotation = p.rotation || this.rotation;\n    this.growth = p.growth || this.growth;\n  }\n\n  get root() {\n    return this.depth === 0;\n  }\n\n  get leaf() {\n    return this.children.length === 0;\n  }\n\n  get angle() {\n    if (this.root) return 0;\n\n    return this.parent.angle + rad(this.rotation);\n  }\n\n  get length() {\n    if (this.root) return this.growth;\n\n    return this.parent.length * (1 - 0.002 * this.growth);\n  }\n\n  get color() {\n    return [\n      \"#5e4800\",\n      \"#5e4800\",\n      \"#594903\",\n      \"#594f03\",\n      \"#595903\",\n      \"#46910d\",\n      \"#46910d\",\n      \"#24770d\",\n      \"#24770d\",\n      \"#24770d\",\n      \"#24770d\",\n      \"#24770d\",\n      \"#24770d\",\n    ][this.depth];\n  }\n\n  get thickness() {\n    return [5, 4, 4, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1][this.depth];\n  }\n\n  get points() {\n    if (this.root) {\n      return [\n        this.store.midX,\n        this.store.minY,\n        this.store.midX,\n        this.store.minY + this.length,\n      ];\n    }\n\n    var px = this.parent.points[2];\n    var py = this.parent.points[3];\n    var nx = -Math.sin(this.angle) * this.length + px;\n    var ny = +Math.cos(this.angle) * this.length + py;\n\n    return [px, py, nx, ny];\n  }\n\n  get pointsInv() {\n    return [\n      this.points[0],\n      this.store.maxY - this.points[1],\n      this.points[2],\n      this.store.maxY - this.points[3],\n    ];\n  }\n}\n\ndecorate(Line, {\n  parent: observable,\n  depth: observable,\n  children: observable,\n  growth: observable,\n  points: computed,\n  leaf: computed,\n  angle: computed,\n  length: computed,\n  root: computed,\n  pointsInv: computed,\n  color: computed,\n});\n\nclass Store {\n  lines = [];\n  depth = 8;\n  growth = 135;\n  rotation = 28;\n\n  minX = 0;\n  maxX = 0;\n  minY = 0;\n  maxY = 0;\n\n  get midX() {\n    return (this.maxX - this.minX) / 2;\n  }\n\n  get midY() {\n    return (this.maxY - this.minY) / 2;\n  }\n\n  constructor() {\n    this.resize();\n    this.regen();\n  }\n\n  resize = () => {\n    this.minX = 0;\n    this.maxX = window.innerWidth;\n    this.minY = 0;\n    this.maxY = window.innerHeight;\n  };\n\n  regenKeyDown = (e) => {\n    if (e.key === \"ArrowUp\") {\n      this.growth += 5;\n      this.regen();\n    }\n\n    if (e.key === \"ArrowDown\") {\n      this.growth -= 5;\n      this.regen();\n    }\n\n    if (e.key === \"ArrowRight\") {\n      this.rotation += 1;\n      this.regen();\n    }\n\n    if (e.key === \"ArrowLeft\") {\n      this.rotation -= 1;\n      this.regen();\n    }\n\n    if (e.key === \"=\" && this.depth < 14) {\n      this.depth += 1;\n      this.regen();\n    }\n\n    if (e.key === \"-\" && this.depth > 1) {\n      this.depth -= 1;\n      this.regen();\n    }\n  };\n\n  regen = (depth, rotation, growth) => {\n    this.lines = [\n      new Line({ store: this, depth: 0, growth: this.growth, rotation: 0 }),\n    ];\n\n    new Array(this.depth - 1).fill(0).forEach((x, i) => {\n      this.lines\n        .filter((l) => l.leaf)\n        .forEach((l) => {\n          const nll = new Line({\n            store: this,\n            depth: i + 1,\n            rotation: this.rotation,\n            growth: this.growth,\n          });\n          const nlr = new Line({\n            store: this,\n            depth: i + 1,\n            rotation: -this.rotation,\n            growth: this.growth,\n          });\n\n          nll.parent = l;\n          nlr.parent = l;\n\n          l.children.push(nll);\n          l.children.push(nlr);\n\n          this.lines.push(nll);\n          this.lines.push(nlr);\n        });\n    });\n  };\n}\n\ndecorate(Store, {\n  depth: observable,\n  growth: observable,\n  lines: observable,\n  maxX: observable,\n  maxY: observable,\n  midX: computed,\n  midY: computed,\n  minX: observable,\n  minY: observable,\n  regen: action,\n  regenKeyDown: action,\n  resize: action,\n  rotation: observable,\n});\n\nexport default new Store();\n","import \"mobx-react/batchingOptOut\";\n\nimport { Circle, Layer, Line, Rect, Stage, Text } from \"react-konva\";\n\nimport React from \"react\";\nimport { observer } from \"mobx-react\";\nimport store from \"./store\";\n\nexport default observer(() => {\n  return (\n    <Stage width={store.maxX} height={store.maxY}>\n      <Layer>\n        <Text\n          text={`Depth(+/-) == ${store.depth}`}\n          fill=\"#000\"\n          fontSize={20}\n          y={10}\n          x={10}\n          fontFamily=\"Courier New\"\n          fontStyle=\"bold\"\n        />\n\n        <Text\n          text={`Growth(up/down) == ${store.growth}`}\n          fill=\"#000\"\n          fontSize={20}\n          y={10 + 20}\n          x={10}\n          fontFamily=\"Courier New\"\n          fontStyle=\"bold\"\n        />\n\n        <Text\n          text={`Rotation(right/left) == ${store.rotation}`}\n          fill=\"#000\"\n          fontSize={20}\n          y={10 + 20 + 20}\n          x={10}\n          fontFamily=\"Courier New\"\n          fontStyle=\"bold\"\n        />\n\n        {store.lines.map((l, i) => {\n          return (\n            <Line\n              key={i}\n              points={l.pointsInv}\n              stroke={l.color}\n              strokeWidth={l.thickness}\n            />\n          );\n        })}\n      </Layer>\n    </Stage>\n  );\n});\n","import \"./index.css\";\n\nimport App from \"./App\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport store from \"./store\";\n\nwindow.onresize = (event) => store.resize();\n\nwindow.onkeydown = store.regenKeyDown;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}